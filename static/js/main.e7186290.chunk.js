(this["webpackJsonpmy-keep"]=this["webpackJsonpmy-keep"]||[]).push([[0],{122:function(n,e,t){n.exports=t(236)},234:function(n,e,t){},235:function(n,e,t){},236:function(n,e,t){"use strict";t.r(e);var r=t(1),o=t.n(r),a=t(26),i=t.n(a);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=t(15),u=t(6),l=t(20),d=t(5),f=t(32),s=t(111),p=t.n(s),b=t(35);function m(){var n=Object(u.a)(["\n  display: inline-flex;\n  align-items: center;\n  font-size: 1.5em;\n  margin: 0px 10px;\n  cursor: default;\n"]);return m=function(){return n},n}function g(){var n=Object(u.a)(["\n  display: inline-flex;\n  padding: 5px;\n  background-color: #f1b003;\n  color: #fff;\n  margin: 0px 10px;\n  border-radius: 5px;\n"]);return g=function(){return n},n}function v(){var n=Object(u.a)(["\n  display: inline-flex;\n  font-size: 1.5em;\n  color: ",";\n  padding: 10px;\n  border-radius: 50%;\n  cursor: pointer;\n\n  &:hover {\n    background-color: ",";\n  }\n"]);return v=function(){return n},n}function h(){var n=Object(u.a)(["\n  position: fixed;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  background-color: ",";\n  z-index: 100;\n  padding: 10px 15px;\n  box-shadow: ",";\n  color: ",";\n"]);return h=function(){return n},n}var x=d.b.div(h(),(function(n){return n.theme.background}),(function(n){return n.theme.shadow}),(function(n){return n.theme.secondaryTextColor})),O=d.b.div(v(),(function(n){return n.theme.secondaryTextColor}),(function(n){return n.theme.secondaryBackground})),E=d.b.div(g()),j=d.b.div(m());function y(n){return o.a.createElement(x,null,o.a.createElement(O,{"aria-label":"Sidebar Toggle Button",onClick:function(){return n.onSidebarButtonClicked()}},o.a.createElement(b.b,null)),o.a.createElement(j,null,o.a.createElement(E,null,o.a.createElement(b.a,null)),"MyKeep"))}function k(){var n=Object(u.a)(["\n  position: absolute;\n  width: 300px;\n  height: 100%;\n  background-color: ",";\n"]);return k=function(){return n},n}var w=d.b.div(k(),(function(n){return n.theme.background}));function N(){return o.a.createElement(w,{"aria-label":"Sidebar"},"hello")}var C,S=t(23),T=t(18),P=t(242),A=Object(l.b)("my-keep/notes/CREATE"),D=Object(l.b)("my-keep/notes/UPDATE"),R=Object(l.b)("my-keep/notes/DELETE"),z=Object(l.b)("my-keep/notes/SWAP_NOTES_POSITION"),B=Object(l.b)("my-keep/notes/PIN_NOTE"),I=Object(l.b)("my-keep/notes/UNPIN_NOTE");var L=Object(l.c)([],(C={},Object(S.a)(C,A,(function(n,e){var t=Object(T.a)({},e.payload,{id:Object(P.a)(),sortOrder:Date.now(),lastUpdateAt:Date.now(),createdAt:Date.now()});return n.concat(t)})),Object(S.a)(C,D,(function(n,e){var t=n.find((function(n){return n.id===e.payload.id}));return t&&Object.assign(t,e.payload,{lastUpdateAt:Date.now()}),n})),Object(S.a)(C,R,(function(n,e){return n.filter((function(n){return n.id!==e.payload}))})),Object(S.a)(C,z,(function(n,e){var t=n.find((function(n){return n.id===e.payload.src})),r=n.find((function(n){return n.id===e.payload.dest})),o=t.sortOrder;return t.sortOrder=r.sortOrder,r.sortOrder=o,n})),Object(S.a)(C,B,(function(n,e){return n.find((function(n){return n.id===e.payload})).isPinned=!0,n})),Object(S.a)(C,I,(function(n,e){return n.find((function(n){return n.id===e.payload})).isPinned=!1,n})),C)),M=t(33),U=t(9),_=t(118),F=t(117),J=t(115),W=t(68);function H(){var n=Object(u.a)(["\n  color: ",";\n  background-color: ",";\n  font-weight: bold;\n  padding: 5px 15px;\n  border-radius: 5px;\n  border: none;\n  box-shadow:  none;\n  cursor: pointer;\n  outline: none;\n  opacity: .54;\n\n  ::-moz-focus-inner {\n     border: 0;\n  }\n\n  &:hover {\n    opacity: 1;\n    background-color: ",";\n  }\n"]);return H=function(){return n},n}function K(){var n=Object(u.a)(["\n  display: inline-flex;\n  color: ",";\n  padding: 10px;\n  border-radius: 50%;\n  cursor: pointer;\n  opacity: .54;\n\n  margin: 0px 5px;\n\n  &:hover {\n    opacity: 1;\n    background-color: ",";\n  }\n"]);return K=function(){return n},n}var V=d.b.div(K(),(function(n){return n.theme.textColor}),(function(n){return n.theme.secondaryBackground})),$=function(n){return o.a.createElement(V,n,o.a.createElement(b.d,null))},q=function(n){return o.a.createElement(V,n,o.a.createElement(b.c,null))},G=function(n){return o.a.createElement(V,n,o.a.createElement(J.a,null))},Q=function(n){return o.a.createElement(V,n,o.a.createElement(W.b,null))},X=function(n){return o.a.createElement(V,n,o.a.createElement(W.a,null))},Y=d.b.button(H(),(function(n){return n.theme.textColor}),(function(n){return n.theme.background}),(function(n){return n.theme.secondaryBackground}));t(233);function Z(){var n=Object(u.a)(["\n  color: ",";\n  font-size: 0.8em;\n  text-align: right;\n  padding-right: 10px;\n"]);return Z=function(){return n},n}function nn(){var n=Object(u.a)(["\n  max-height: 70vh;\n  overflow: auto;\n  padding: 5px 0px;\n"]);return nn=function(){return n},n}function en(){var n=Object(u.a)(["\n  color: ",";\n  cursor: text;\n"]);return en=function(){return n},n}function tn(){var n=Object(u.a)(["\n  display: flex;\n  margin-top: 20px;\n"]);return tn=function(){return n},n}function rn(){var n=Object(u.a)(["\n  flex-grow: 1;\n"]);return rn=function(){return n},n}function on(){var n=Object(u.a)(["\n  width: 100%;\n  border: none;\n  background-color: ",";\n  font-size: 1.1em;\n  color: ",";\n  padding-bottom: 20px;\n\n  &:focus {\n    ::placeholder {\n      color: ",";\n    }\n  }\n  ::placeholder {\n    color: ",";\n  }\n"]);return on=function(){return n},n}function an(){var n=Object(u.a)(["\n  width: 600px;\n  background-color: ",";\n  box-shadow: ",";\n  margin: 0 auto;\n  padding: 15px;\n  border-radius: 5px;\n"]);return an=function(){return n},n}var cn=d.b.div(an(),(function(n){return n.theme.background}),(function(n){return n.theme.shadow})),un=d.b.input(on(),(function(n){return n.theme.background}),(function(n){return n.theme.color}),(function(n){return n.theme.secondaryTextColor}),(function(n){return n.theme.textColor})),ln=d.b.div(rn()),dn=d.b.div(tn()),fn=d.b.div(en(),(function(n){return n.theme.secondaryTextColor})),sn=d.b.div(nn()),pn=d.b.div(Z(),(function(n){return n.theme.secondaryTextColor}));var bn=Object(r.forwardRef)((function(n,e){var t=n.hideTitle,a=n.hideEditor,i=n.hideFooter,u=n.closeAction,l=n.onClick,d=n.note,f=Object(M.a)(n,["hideTitle","hideEditor","hideFooter","closeAction","onClick","note"]),s=Object(r.useRef)(null),p=Object(r.useRef)(null),b=Object(r.useRef)(null),m=Object(r.useState)(d&&d.content?U.EditorState.createWithContent(Object(F.a)(d.content)):U.EditorState.createEmpty()),g=Object(c.a)(m,2),v=g[0],h=g[1];return Object(r.useEffect)((function(){s.current&&!a&&s.current.focus()}),[a]),Object(r.useImperativeHandle)(e,(function(){return{getNoteContent:function(){var n=v.getCurrentContent(),e=b.current.value;return Object(T.a)({},d?{id:d.id}:{},{title:""===e?void 0:e,content:n.hasText()?Object(_.a)(n):void 0})},clearContent:function(){h(U.EditorState.createEmpty()),b.current.value=""},element:p.current}})),o.a.createElement(cn,Object.assign({ref:p,"aria-label":"Note editor",onClick:l},f),t?"":o.a.createElement(un,{placeholder:"Title",ref:b,defaultValue:d?d.title:void 0,"aria-label":"title"}),a?o.a.createElement(fn,null,"Take a note..."):o.a.createElement(sn,null,o.a.createElement(U.Editor,{ref:s,ariaLabel:"content",placeholder:"Take a note...",editorState:v,onChange:h})),i||!d?"":o.a.createElement(pn,{"aria-label":"Last update date"},"Edited ".concat(mn(d.lastUpdateAt))),i?"":o.a.createElement(dn,null,o.a.createElement(ln,{"aria-label":"Actions"},o.a.createElement($,{onClick:function(){h(U.EditorState.undo(v))},"aria-label":"Undo"}),o.a.createElement(q,{onClick:function(){h(U.EditorState.redo(v))},"aria-label":"Redo"})),o.a.createElement(Y,{onClick:u,"aria-label":"close"},"Close")))})),mn=function(n){return new Date(n).toDateString()};var gn=Object(f.b)((function(n,e){return e}),(function(n){return{updateNote:function(e){void 0===e.title&&void 0===e.content||n(A(e))}}}))((function(n){var e=n.updateNote,t=Object(r.useState)(!1),a=Object(c.a)(t,2),i=a[0],u=a[1],l=Object(r.useRef)(null),d=function(n){n&&n.stopPropagation(),e(l.current.getNoteContent()),l.current.clearContent(),u(!1)},f=function(n){l.current&&!l.current.element.contains(n.target)&&i&&d()};return Object(r.useEffect)((function(){return document.addEventListener("mousedown",f),function(){document.removeEventListener("mousedown",f)}})),o.a.createElement(bn,{ref:l,onClick:function(){u(!0)},closeAction:d,hideTitle:!i,hideEditor:!i,hideFooter:!i})})),vn=t(116),hn=t(239);function xn(){var n=Object(u.a)(["\n  cursor: pointer;\n  padding: 5px 10px;\n  background-color: ",";\n\n  &:hover {\n    background-color: ",";\n  }\n"]);return xn=function(){return n},n}function On(){var n=Object(u.a)(["\n  position: absolute;\n  padding: 5px 0px;\n  background-color: ",";\n  box-shadow: ",";\n  border-radius: 5px;\n  z-index: 200;\n  bottom: 40px;\n  right: 10px;\n  opacity: 0;\n"]);return On=function(){return n},n}var En=d.b.ul(On(),(function(n){return n.theme.background}),(function(n){return n.theme.shadow})),jn=d.b.li(xn(),(function(n){return n.theme.background}),(function(n){return n.theme.secondaryBackground}));var yn=Object(r.forwardRef)((function(n,e){var t=n.items;return Object(r.useEffect)((function(){var n=.7*e.current.getBoundingClientRect();e.current.style.right="-".concat(n,"px"),e.current.style.opacity=1})),o.a.createElement(En,{ref:e},t.map((function(n){return o.a.createElement(jn,{key:n.text,onClick:function(e){return function(n,e){n.stopPropagation(),e()}(e,n.action)}},n.text)})))}));function kn(n,e){var t=function(t){n.current&&!n.current.contains(t.target)&&e()};Object(r.useEffect)((function(){return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}))}var wn=t(240),Nn=t(241);function Cn(n,e){var t=Object(wn.a)({item:Object(T.a)({type:"NOTE"},e),collect:function(n){return{isDragging:n.isDragging()}}}),r=Object(c.a)(t,2),o=r[0].isDragging,a=r[1],i=Object(Nn.a)({accept:"NOTE",hover:e.hover});return a((0,Object(c.a)(i,2)[1])(n)),{isDragging:o}}function Sn(){var n=Object(u.a)(["\n  position: relative;\n  width: auto;\n  min-width: 240px;\n  background-color: ",";\n  padding: 15px;\n  border-radius: 5px;\n  border: 1px solid ",';\n  line-height: 1.2em;\n  word-wrap: break-word;\n  padding: 10px;\n\n  &:hover {\n    box-shadow: 0 1px 2px 0 rgba(60,64,67,0.302),0 1px 3px 1px rgba(60,64,67,0.149);\n  }\n\n  [aria-label = "title"] {\n    font-size: 1.1em;\n    font-weight: 500;\n    margin-bottom: 15px;\n  }\n']);return Sn=function(){return n},n}function Tn(n){var e=n.item,t=n.onDrop,a=n.children,i=Object(M.a)(n,["item","onDrop","children"]),c=Object(r.useRef)(null),u=Cn(c,Object(T.a)({},e,{hover:Pn(c,e,t)})).isDragging?0:1;return o.a.createElement(An,Object.assign({},i,{ref:c,style:{opacity:u}}),a)}var Pn=function(n,e,t){return function(r,o){var a=r.sortOrder,i=e.sortOrder;if(a!==i){var c=n.current.getBoundingClientRect(),u=(c.bottom-c.top)/2,l=o.getClientOffset().y-c.top;a>i&&l<u||a<i&&l>u||(t(r.id,e.id),r.sortOrder=e.sortOrder)}}},An=d.b.div(Sn(),(function(n){return n.theme.background}),(function(n){return n.theme.borderColor}));function Dn(){var n=Object(u.a)(["\n  position: absolute;\n  top: 1px;\n  right: 0px;\n  font-size: 1.3em;\n  opacity: 0;\n  transition: opacity 0.3s ease-in-out;\n\n  .note-parent:hover & {\n    opacity: 1;\n  }\n"]);return Dn=function(){return n},n}function Rn(){var n=Object(u.a)(["\n  position: absolute;\n  bottom: 0px;\n  left: 0px;\n  width: 100%;\n  height: 46px;\n  display: flex;\n  flex-direction: row-reverse;\n  padding: 5px 0px;\n  opacity: 0;\n  transition: opacity 0.3s ease-in-out;\n\n  .note-parent:hover & {\n    opacity: 1;\n  }\n"]);return Rn=function(){return n},n}function zn(){var n=Object(u.a)(["\n  flex-grow: 1;\n  max-height: 480px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return zn=function(){return n},n}function Bn(){var n=Object(u.a)(["\n  min-height: 160px;\n  padding-bottom: 46px;\n"]);return Bn=function(){return n},n}function In(n){var e=n.note,t=n.togglePinNote,a=n.swapNotes,i=n.duplicateNote,u=n.deleteNote,l=Object(M.a)(n,["note","togglePinNote","swapNotes","duplicateNote","deleteNote"]),d=Object(r.useState)(!1),f=Object(c.a)(d,2),s=f[0],p=f[1],b=Object(r.useRef)(null),m=[{text:"Delete note",action:function(){p(!1),u(e.id)}},{text:"Duplicate note",action:function(){p(!1),i(e)}}];kn(b,(function(){p(!1)}));return o.a.createElement(Tn,Object.assign({},l,{item:e,onDrop:a,className:"note-parent"}),o.a.createElement(Ln,null,e.title?o.a.createElement("div",{"aria-label":"title"},e.title):null,o.a.createElement(Mn,{"aria-label":"content",className:"note-content",dangerouslySetInnerHTML:{__html:e.content}})),o.a.createElement(Un,null,o.a.createElement(G,{role:"button","aria-label":"More actions",title:"More",onClick:function(n){n.stopPropagation(),p(!s)}})),s?o.a.createElement(yn,{ref:b,items:m}):void 0,t?o.a.createElement(_n,{role:"button",onClick:function(n){n.stopPropagation(),t(e.id)}},e.isPinned?o.a.createElement(X,{"aria-label":"Unpin note",title:"Unpin note"}):o.a.createElement(Q,{"aria-label":"Pin note",title:"Pin note"})):void 0)}var Ln=d.b.div(Bn()),Mn=d.b.div(zn()),Un=d.b.div(Rn()),_n=d.b.div(Dn());function Fn(){var n=Object(u.a)(["\n  position: fixed;\n  left: 0px;\n  top: 0px;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 400;\n\n  .modal-editor {\n    position: relative;\n    z-index: 9999;\n  }\n"]);return Fn=function(){return n},n}function Jn(){var n=Object(u.a)(["\n  position: fixed;\n  left: 0px;\n  top: 0px;\n  width: 100%;\n  height: 100%;\n  z-index: 9999px;\n  background-color: ",";\n  opacity: 0.7;\n"]);return Jn=function(){return n},n}function Wn(n){var e=n.note,t=n.onModalClose,a=n.updateNote,i=Object(r.useRef)(null),c=Object(r.useRef)(null),u=function(){a&&a(i.current.getNoteContent()),t()};return o.a.createElement(Kn,null,o.a.createElement(bn,{className:"modal-editor",ref:i,note:e,closeAction:u}),o.a.createElement(Hn,{ref:c,onClick:u}))}var Hn=d.b.div(Jn(),(function(n){return n.theme.background})),Kn=d.b.div(Fn());function Vn(){var n=Object(u.a)(["\n  margin-top: 50px;\n  margin-bottom: 10px;\n  font-weight: bold;\n  font-variant: small-caps;\n  text-transform: lowercase;\n  color: ",";\n"]);return Vn=function(){return n},n}function $n(){var n=Object(u.a)(["\n  display: grid;\n  grid-gap: 15px;\n  grid-template-columns: repeat(auto-fill, minmax(240px,1fr));\n  grid-auto-rows: 180px;\n"]);return $n=function(){return n},n}var qn=d.b.div($n()),Gn=d.b.h2(Vn(),(function(n){return n.theme.secondaryTextColor}));function Qn(n){var e=Object(r.useState)(null),t=Object(c.a)(e,2),a=t[0],i=t[1],u=Object(r.useRef)(null),l=n.notes,d=n.deleteNote,f=n.swapNotes,s=n.updateNote,p=n.duplicateNote,b=n.pinNoteAction,m=n.gridTitle;Object(r.useEffect)((function(){var n=u.current;Xn(n.children)}));return o.a.createElement(hn.a,{backend:vn.a},o.a.createElement(Gn,null,m),o.a.createElement(qn,{ref:u},l.map((function(n){return o.a.createElement(In,{key:n.id,swapNotes:f,deleteNote:d,duplicateNote:p,togglePinNote:b,className:"grid-item","aria-label":"note",note:n,onClick:function(){return function(n){i(n)}(n)}})}))),a?o.a.createElement(Wn,{note:a,updateNote:s,onModalClose:function(){i(null)}}):null)}var Xn=function(n){for(var e=0;e<n.length;e++){var t=n[e],r=Math.ceil((t.firstChild.getBoundingClientRect().height+15)/195);t.style.gridRowEnd="span "+r}};var Yn=function(n,e){return e.sortOrder-n.sortOrder},Zn=Object(f.b)((function(n,e){return Object(T.a)({notes:n.notes.filter((function(n){return!n.isPinned})).sort(Yn),pinnedNotes:n.notes.filter((function(n){return!!n.isPinned})).sort(Yn)},e)}),(function(n){return{updateNote:function(e){n(D(e))},deleteNote:function(e){n(R(e))},duplicateNote:function(e){var t=Object(T.a)({},e,{id:void 0});n(A(t))},swapNotes:function(e,t){n(z({src:e,dest:t}))},pinNoteAction:function(e){n(B(e))},unpinNoteAction:function(e){n(I(e))}}}))((function(n){var e=n.notes,t=n.pinnedNotes,r=n.deleteNote,a=n.swapNotes,i=n.updateNote,c=n.duplicateNote,u=n.pinNoteAction,l=n.unpinNoteAction,d=t&&t.length;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Qn,{gridTitle:d?"Pinned":void 0,notes:t||[],swapNotes:a,updateNote:i,deleteNote:r,duplicateNote:c,pinNoteAction:l}),o.a.createElement(Qn,{gridTitle:d?"Others":void 0,notes:e,swapNotes:a,updateNote:i,deleteNote:r,duplicateNote:c,pinNoteAction:u}))}));function ne(){var n=Object(u.a)(["\n  width: auto;\n  background-color: ",";\n  margin-top: 80px;\n  padding: 20px 10px;\n"]);return ne=function(){return n},n}var ee=d.b.div(ne(),(function(n){return n.theme.background}));function te(){return o.a.createElement(ee,null,o.a.createElement(gn,null),o.a.createElement(Zn,null))}var re={background:"#fff",secondaryBackground:"rgba(60,64,67,0.08)",textColor:"#202124",secondaryTextColor:"#80868b",shadow:"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)",sidebarSize:"300px",borderColor:"#e0e0e0"},oe=t(10),ae=Object(oe.c)({notes:L});function ie(){var n=Object(u.a)(["\n  width: auto;\n  height: 100%;\n  overflow: hidden;\n\n  @media(min-width: 750px) {\n    margin-left: ",";\n  }\n"]);return ie=function(){return n},n}function ce(){var n=Object(u.a)(["\n  height: 100%;\n  overflow: auto;\n"]);return ce=function(){return n},n}var ue=Object(l.a)({reducer:ae,devTools:!1,preloadedState:function(){try{var n=localStorage.getItem("my-keep-data");if(null===n)return;return JSON.parse(n)}catch(e){return}}()});ue.subscribe(p()((function(){!function(n){try{localStorage.setItem("my-keep-data",JSON.stringify(n))}catch(e){}}({notes:ue.getState().notes})}),1e3));var le=d.b.div(ce()),de=d.b.div(ie(),(function(n){return n.isSidebarOpen?"300px":"0px"}));var fe=function(){var n=Object(r.useState)(!1),e=Object(c.a)(n,2),t=e[0],a=e[1];return o.a.createElement(f.a,{store:ue},o.a.createElement(d.a,{theme:re},o.a.createElement(le,null,o.a.createElement(y,{onSidebarButtonClicked:function(){a(!t)}}),t?o.a.createElement(N,null):"",o.a.createElement(de,{isSidebarOpen:t},o.a.createElement(te,null)))))};t(234),t(235);i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[122,1,2]]]);
//# sourceMappingURL=main.e7186290.chunk.js.map